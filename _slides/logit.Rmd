---
title: "Logit example"
author: "Sebastian Barfort"
css: styles.css
output: html_document
---

Remember that in the logit model

$$P(Y = 1|X_1, X_2, ..., X_n) = \frac{1}{1 + e^{-x\beta}}$$

On the black line the two outcomes are equally likely

$$P(Y = 1|X_1, X_2, ..., X_n) = \frac{1}{1 + e^{-x\beta}} = \frac{1}{2}$$

This is obviously true when $x\beta = 0$. 

In our example, we estimated the following model

$$P(Y = 1|X_1, X_2, ..., X_n) = \frac{1}{1 + e^{-(\beta_0 + \beta_1 \text{height} + \beta_2 \text{weight})}}$$ 

For equal probabilities we get

$$\beta_0 + \beta_1 \text{height} + \beta_2 \text{weight} = 0$$

We can isolate $\text{weight}$ as 

$$\text{weight} = -\frac{\beta_0}{\beta_2} - \frac{\beta_1}{\beta_2} \text{height}$$

In R
```{r, message = FALSE, warning = FALSE}
library("ggplot2")
library("readr")
library("dplyr")
df = read_csv("https://raw.githubusercontent.com/johnmyleswhite/ML_for_Hackers/master/02-Exploration/data/01_heights_weights_genders.csv")
df = df %>% mutate(gender = ifelse(Gender == "Male", 1, 0))
logit.model = glm(gender ~  Height + Weight, data = df, family = binomial(link = "logit"))
summary(logit.model)
ggplot(df, aes(x = Height, y = Weight)) + geom_point(aes(colour = Gender), alpha = .3) +
  geom_abline(intercept = - coef(logit.model)[1] / coef(logit.model)[3],
              slope = - coef(logit.model)[2] / coef(logit.model)[3],
              color = "black")
```


